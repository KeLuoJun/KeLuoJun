name: Language Stats Only
on:
  schedule:
    - cron: "0 0 * * *"  # 每天UTC 0点（北京时间早上8点）
  workflow_dispatch:

jobs:
  language-stats:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
      - uses: lowlighter/metrics@latest
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          
          # 关键配置：仅显示语言统计
          base: ""  # 禁用所有基础信息（移除个人信息）
          
          # 语言统计配置
          plugin_languages: yes
          plugin_languages_ignored: html, css, tex, dockerfile, makefile, cmake, yaml, json
          plugin_languages_sections: bar  # 使用条形图样式
          plugin_languages_limit: 8        # 显示前8种语言
          plugin_languages_threshold: 0%   # 显示所有语言
          plugin_languages_colors: github  # 使用GitHub主题色
          plugin_languages_layout: compact # 紧凑布局（与图2一致）
          
          # 输出文件名
          filename: metrics.languages.svg